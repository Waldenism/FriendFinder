<!DOCTYPE html>
<html>
<head>
	<title>Friend Finder Survey</title>
	<meta charset="UTF-8">
 	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- <link rel="stylesheet" type="text/css" href="css/reset.css"> -->
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah" rel="stylesheet">
</head>

<body>

	<header>
		<h1>Survey</h1>
		<div id="buga">
			<h4>KEY</h4>
			<p>
				Strongly disagree 1 ----- Neutral 3 ----- Strongly agree 5. 
			</p>	
		</div>
	</header>

	<br>
	
	<div id="formWrapper">
		
		<form>

			<div id="law">
				<h4> Name and Photo </h4>
				<input type="text" name="userName" id="nameInput" placeholder="Name (Required)">
				<br><br>
				<input type="text" name="userPhoto" id="photoInput" placeholder="Photo Link (Required)">
				<br>
			</div>

			<br>

			<div class="row"> <!-- row 1 -->

				<div>
					<!-- <h4>Question 1</h4> -->
					<p>You are an early bird</p>
					<div id="q1">
						<input type="radio" name="q1" value="1" >1
						<input type="radio" name="q1" value="2" >2
						<input type="radio" name="q1" value="3" >3
						<input type="radio" name="q1" value="4" >4
						<input type="radio" name="q1" value="5" >5
					</div>
				</div>

				<br>
				
				<div>
					<!-- <h4>Question 2</h4> -->
					<p>You consider yourself a conservative</p>
					<div id="q2">
						<input type="radio" name="q2" value="1" >1
						<input type="radio" name="q2" value="2" >2
						<input type="radio" name="q2" value="3" >3
						<input type="radio" name="q2" value="4" >4
						<input type="radio" name="q2" value="5" >5
					</div>
				</div> 

			</div> <!-- /////row 1 -->

			<br>

			<div class="row"> <!-- row 2 -->

				<div>
					<!-- <h4>Question 3</h4> -->
					<p>You are an outdoors person</p>
					<div id="q3">
						<input type="radio" name="q3" value="1" >1
						<input type="radio" name="q3" value="2" >2
						<input type="radio" name="q3" value="3" >3
						<input type="radio" name="q3" value="4" >4
						<input type="radio" name="q3" value="5" >5
					</div>
				</div>

				<br>

				<div>
					<!-- <h4>Question 4</h4> -->
					<p>You are an alpha archtype</p>
					<div id="q4">
						<input type="radio" name="q4" value="1" >1
						<input type="radio" name="q4" value="2" >2
						<input type="radio" name="q4" value="3" >3
						<input type="radio" name="q4" value="4" >4
						<input type="radio" name="q4" value="5" >5
					</div>
				</div> 

			</div> <!-- ///////row  -->

			<br>

			<div class="row"> <!-- row 3 -->

				<div>
					<!-- <h4>Question 5</h4> -->
					<p>You are a pet lover</p>
					<div id="q5">
						<input type="radio" name="q5" value="1" >1
						<input type="radio" name="q5" value="2" >2
						<input type="radio" name="q5" value="3" >3
						<input type="radio" name="q5" value="4" >4
						<input type="radio" name="q5" value="5" >5
					</div>
				</div>

				<br>

				<div>
					<!-- <h4>Question 6</h4> -->
					<p>You are a foodie</p>
					<div id="q6">
						<input type="radio" name="q6" value="1" >1
						<input type="radio" name="q6" value="2" >2
						<input type="radio" name="q6" value="3" >3
						<input type="radio" name="q6" value="4" >4
						<input type="radio" name="q6" value="5" >5
					</div>
				</div> 

			</div> <!-- ///////////row 3 -->

			<br>

			<div class="row"> <!-- row 4 -->
			
				<div>
					<!-- <h4>Question 7</h4> -->
					<p>You are an optimist</p>
					<div id="q7">
						<input type="radio" name="q7" value="1" >1
						<input type="radio" name="q7" value="2" >2
						<input type="radio" name="q7" value="3" >3
						<input type="radio" name="q7" value="4" >4
						<input type="radio" name="q7" value="5" >5
					</div>
				</div>

				<br>

				<div>
					<!-- <h4>Question 8</h4> -->
					<p>You are an introvert</p>
					<div id="q8">
						<input type="radio" name="q8" value="1" >1
						<input type="radio" name="q8" value="2" >2
						<input type="radio" name="q8" value="3" >3
						<input type="radio" name="q8" value="4" >4
						<input type="radio" name="q8" value="5" >5
					</div>
				</div> 

			</div> <!-- ///////////row 4 -->

			<br>

			<div class="row"> <!-- row 5 -->

				<div>
					<!-- <h4>Question 9</h4> -->
					<p>You are fashionista</p>
					<div id="q9">
						<input type="radio" name="q9" value="1" >1
						<input type="radio" name="q9" value="2" >2
						<input type="radio" name="q9" value="3" >3
						<input type="radio" name="q9" value="4" >4
						<input type="radio" name="q9" value="5" >5
					</div>
				</div>

				<br>

				<div>
					<!-- <h4>Question 10</h4> -->
					<p>You like sports</p>
					<div id="q10">
						<input type="radio" name="q10" value="1" >1
						<input type="radio" name="q10" value="2" >2
						<input type="radio" name="q10" value="3" >3
						<input type="radio" name="q10" value="4" >4
						<input type="radio" name="q10" value="5" >5
					</div>
				</div>  

			</div><!-- ///////////row 5 -->

			<br>

			<div class="row" id='erMes'>All fields require input<br></div>

		</form> 

	</div>

	<br><br>

	<div style="border:none" id="submitButton" class="button"><div class="outer"><div class="height"><div class="inner" >Submit</div></div></div></div>

	<div id="modal" class="modal">
		<div class='modal-content'>
			<span class="close">&times;</span>
			<h4> We think a good friend for you might be</h4>
			
			<h5 id='userMatch'></h5>
			<img id='userMatchImage'>
		</div>
	</div>

	<div id="linkies">
		<div><a href="/api/friends">API Friends List</a></div>
		<div> | </div>
		<div><a href="https://github.com/Waldenism/FriendFinder">GitHub Repo</a></div>
	</div>


<!-- ------------------- jqurey --------------------------- -->


	<script
	    src="https://code.jquery.com/jquery-3.2.1.min.js"
	    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	    crossorigin="anonymous">    
	</script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>



<!-- ------------   java script ---------------------- -->


	<script type="text/javascript">
		$(document).ready(function() {
			$('#erMes').hide();
			$("#modal").hide();
		});

		$('#submitButton').on('click', function(event) {
			event.preventDefault();

			if(($('#nameInput').val() === "") || ($('#photoInput').val() === '')) {
				$('#erMes').show();
				return;
			} else {
				if ( !($("input[name='q1']:checked").val()) ||
					!($("input[name='q2']:checked").val()) ||
					!($("input[name='q3']:checked").val()) ||
					!($("input[name='q4']:checked").val()) ||
					!($("input[name='q5']:checked").val()) ||
					!($("input[name='q6']:checked").val()) ||
					!($("input[name='q7']:checked").val()) ||
					!($("input[name='q8']:checked").val()) ||
					!($("input[name='q9']:checked").val()) ||
					!($("input[name='q10']:checked").val()) ) {
					$('#erMes').show();
					return;
				} else {
					$('#submitButton').hide();

					var userInput = {
						name: $('#nameInput').val(),
						photo: $('#photoInput').val(),
						scores:[
							// $("#q1 < input[name='q1']").attr('checked', 'checked').val(),
							$("input[name='q1']:checked").val(),
							$("input[name='q2']:checked").val(),
							$("input[name='q3']:checked").val(),
							$("input[name='q4']:checked").val(),
							$("input[name='q5']:checked").val(),
							$("input[name='q6']:checked").val(),
							$("input[name='q7']:checked").val(),
							$("input[name='q8']:checked").val(),
							$("input[name='q9']:checked").val(),
							$("input[name='q10']:checked").val()
						]
					};

					$.post('/api/friends', userInput)
	      		.done(function(data) {
	      			$('#userMatch').html(data.matchName);
			    		$("#userMatchImage").attr("src", data.matchImg);
	      			$('#modal').show();
	      		});
				}
			}

		});

		$('.close').on('click', function(e){
			$("#modal").hide();
		});
	</script>

</body>
</html>