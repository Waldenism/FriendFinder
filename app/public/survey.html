<!DOCTYPE html>
<html>
<head>
	<title>Friend Finder Survey</title>
	<meta charset="UTF-8">
 	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>

	<head>
		<h1>Survey</h1>
	</head>
	
	<form>
		
		<div>
			<h4> Name and Photo </h4>
			<input type="text" name="userName" id="nameInput" placeholder="Name (Required)">
			<br><br>
			<input type="text" name="userPhoto" id="photoInput" placeholder="Photo Link (Required)">
		</div>

		<br>

		<div>
			<h4>Question 1</h4>
			<p>You are an early bird</p>
			<div id="q1">
				<input type="radio" name="q1" value="1" >1
				<input type="radio" name="q1" value="2" >2
				<input type="radio" name="q1" value="3" >3
				<input type="radio" name="q1" value="4" >4
				<input type="radio" name="q1" value="5" >5
			</div>
		</div>

		<br>
		
		<div>
			<h4>Question 2</h4>
			<p>You consider yourself a conservative</p>
			<div id="q2">
				<input type="radio" name="q2" value="1" >1
				<input type="radio" name="q2" value="2" >2
				<input type="radio" name="q2" value="3" >3
				<input type="radio" name="q2" value="4" >4
				<input type="radio" name="q2" value="5" >5
			</div>
		</div>

		<br>

		<div>
			<h4>Question 3</h4>
			<p>You are an outdoors person</p>
			<div id="q3">
				<input type="radio" name="q3" value="1" >1
				<input type="radio" name="q3" value="2" >2
				<input type="radio" name="q3" value="3" >3
				<input type="radio" name="q3" value="4" >4
				<input type="radio" name="q3" value="5" >5
			</div>
		</div>

		<br>

		<div>
			<h4>Question 4</h4>
			<p>You are an alpha archtype</p>
			<div id="q4">
				<input type="radio" name="q4" value="1" >1
				<input type="radio" name="q4" value="2" >2
				<input type="radio" name="q4" value="3" >3
				<input type="radio" name="q4" value="4" >4
				<input type="radio" name="q4" value="5" >5
			</div>
		</div>

		<br>

		<div>
			<h4>Question 5</h4>
			<p>You are a pet lover</p>
			<div id="q5">
				<input type="radio" name="q5" value="1" >1
				<input type="radio" name="q5" value="2" >2
				<input type="radio" name="q5" value="3" >3
				<input type="radio" name="q5" value="4" >4
				<input type="radio" name="q5" value="5" >5
			</div>
		</div>

		<br>

		<div>
			<h4>Question 6</h4>
			<p>You are a foodie</p>
			<div id="q6">
				<input type="radio" name="q6" value="1" >1
				<input type="radio" name="q6" value="2" >2
				<input type="radio" name="q6" value="3" >3
				<input type="radio" name="q6" value="4" >4
				<input type="radio" name="q6" value="5" >5
			</div>
		</div>

		<br>
		
		<div>
			<h4>Question 7</h4>
			<p>You are an optimist</p>
			<div id="q7">
				<input type="radio" name="q7" value="1" >1
				<input type="radio" name="q7" value="2" >2
				<input type="radio" name="q7" value="3" >3
				<input type="radio" name="q7" value="4" >4
				<input type="radio" name="q7" value="5" >5
			</div>
		</div>

		<br>

		<div>
			<h4>Question 8</h4>
			<p>You are an introvert</p>
			<div id="q8">
				<input type="radio" name="q8" value="1" >1
				<input type="radio" name="q8" value="2" >2
				<input type="radio" name="q8" value="3" >3
				<input type="radio" name="q8" value="4" >4
				<input type="radio" name="q8" value="5" >5
			</div>
		</div>

		<br>

		<div>
			<h4>Question 9</h4>
			<p>You are fashionista</p>
			<div id="q9">
				<input type="radio" name="q9" value="1" >1
				<input type="radio" name="q9" value="2" >2
				<input type="radio" name="q9" value="3" >3
				<input type="radio" name="q9" value="4" >4
				<input type="radio" name="q9" value="5" >5
			</div>
		</div>

		<br>

		<div>
			<h4>Question 10</h4>
			<p>You like sports</p>
			<div id="q10">
				<input type="radio" name="q10" value="1" >1
				<input type="radio" name="q10" value="2" >2
				<input type="radio" name="q10" value="3" >3
				<input type="radio" name="q10" value="4" >4
				<input type="radio" name="q10" value="5" >5
			</div>
		</div>

		<br><br>

		<div style="border:none" id="submitButton" class="button"><div class="outer"><div class="height"><div class="inner" >Submit</div></div></div></div>

		<!-- <button  type="submit">Submit</button> -->

	</form>

	

	<div id="modal" class="modal">
		<div class='modal-content'>
			<h4> We think a good friend for you might be</h4>
			<span class="close">&times;</span>
			<h5 id='userMatch'></h5>
			<img id='userMatchImage'>
		</div>
	</div>

	<div id="linkies">
		<div><a href="/api/friends">API Friends List</a></div>
		<div> | </div>
		<div><a href="https://github.com/Waldenism/FriendFinder">GitHub Repo</a></div>
	</div>




<!-- ------------------- jqurey --------------------------- -->


	<script
	    src="https://code.jquery.com/jquery-3.2.1.min.js"
	    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	    crossorigin="anonymous">    
	</script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>



<!-- ------------   java script ---------------------- -->


	<script type="text/javascript">
		$(document).ready(function() {
			$("#modal").hide();
		});

		$('#submitButton').on('click', function(event) {
			event.preventDefault();

			var userInput = {
				name: $('#nameInput').val().trim(),
				photo: $('#photoInput').val().trim(),
				scores:[
					// $("#q1 < input[name='q1']").attr('checked', 'checked').val(),
					$("input[name='q1']:checked").val(),
					$("input[name='q2']:checked").val(),
					$("input[name='q3']:checked").val(),
					$("input[name='q4']:checked").val().trim(),
					$("input[name='q5']:checked").val().trim(),
					$("input[name='q6']:checked").val().trim(),
					$("input[name='q7']:checked").val().trim(),
					$("input[name='q8']:checked").val().trim(),
					$("input[name='q9']:checked").val().trim(),
					$("input[name='q10']:checked").val().trim()
				]
			};

			$.post('/api/friends', userInput)
      		.done(function(data) {
      			$('#userMatch').html(data.matchName);
		    	$("#userMatchImage").attr("src", data.matchImg);

		    	// Pop open the modal dialog
      			$('#modal').show();
      		});
		});

		$('.close').on('click', function(e){
			$("#modal").hide();
		});
	</script>

</body>
</html>